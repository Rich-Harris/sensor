(function(e){var n,t,o;n=function(e){var n;return e.__sensor?e.__sensor:(n=Object.create(t),n.el=e,n.handlers={},n.boundEvents={},e.__sensor=n,n)},t={on:function(e,t){var o,s=this;if(o=n.events[e],!o)throw'Event "'+e+'" has not been defined';return this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t),console.log(this.boundEvents),this.boundEvents[e]||(this.boundEvents[e]=!0,console.log("applying %s definition",e),this.boundEvents[e]=o.call(null,this.el,this,function(){var n,t;for(n=s.handlers[e].slice(),t=0;n.length>t;t+=1)n[t].apply(s,arguments)})),{cancel:function(){s.off(e,t)}}},off:function(e,n){var t,o;t=this.handlers[e],t&&(console.log(e,t.slice()),o=t.indexOf(n),-1!==o&&t.splice(o,1),t.length||(delete this.handlers[e],this.boundEvents[e].cancel(),delete this.boundEvents[e]))}},n.events={},n.define=function(e,t){n.events[e]=t},n.patch=function(){o||(Node.prototype.on=function(){this.__sensor=n(this),this.__sensor.on.apply(this.__sensor,arguments)},Node.prototype.off=function(){this.__sensor=n(this),this.__sensor.off.apply(this.__sensor,arguments)},o=!0)},function(e){"use strict";e.define("doubletap",function(e,n,t){var o,s;o=5,s=500,n.on("tap",function(e,i){var u=n.on("tap",function(n,s,u){var r=Math.abs(e-n),f=Math.abs(i-s);o>=r&&o>=f&&t(n,s,u)});setTimeout(u.cancel,s)})})}(n),function(e){"use strict";e.define("dragstart",function(e,n,t){return n.on("mousedown",function(e,o,s){n.drag={start:{x:e,y:o},last:{x:e,y:o}},t(e,o,s)})}),e.define("dragmove",function(e,n,t){return n.on("dragstart",function(){var e,o,s;s=n.on("dragend",function(){o.cancel(),s.cancel()}),e=function(e,n){t(e-this.drag.last.x,n-this.drag.last.y),this.drag.last.x=e,this.drag.last.y=n},o=n.on("mousemove",e)})}),e.define("dragend",function(e,n,t){return n.on("dragstart",function(){var e=n.on("mouseup",function(o,s){t(o,s),delete n.drag,e.cancel()})})})}(n),function(e){"use strict";e.define("mousedown",function(e,n,t){var o=function(e){t(e.offsetX,e.offsetY,e)};return e.addEventListener("mousedown",o),{cancel:function(){e.removeEventListener("mousedown",o)}}}),e.define("mouseup",function(e,n,t){var o=function(e){t(e.offsetX,e.offsetY,e)};return e.addEventListener("mouseup",o),{cancel:function(){e.removeEventListener("mouseup",o)}}}),e.define("mousemove",function(e,n,t){var o=function(e){t(e.offsetX,e.offsetY,e)};return e.addEventListener("mousemove",o),{cancel:function(){e.removeEventListener("mousemove",o)}}})}(n),function(e){"use strict";e.define("tap",function(e,n,t){var o,s;o=5,s=200,e.addEventListener("mousedown",function(n){var i,u,r,f,c;i=n.offsetX,u=n.offsetY,r=function(e){t(e.offsetX,e.offsetY,e),c()},f=function(e){(Math.abs(e.offsetX-i)>o||Math.abs(e.offsetY-u)>o)&&c()},c=function(){e.removeEventListener("mouseup",r),e.removeEventListener("mousemove",f)},e.addEventListener("mouseup",r),e.addEventListener("mousemove",f),setTimeout(c,s)}),e.addEventListener("touchstart",function(n){var i,u,r,f,c;f=n.changedTouches[0],c=f.identifier,i=f.offsetX,u=f.offsetY,touchend=function(e){var n;n=e.changedTouches[0],n.identifier===c&&(t(n.offsetX,n.offsetY,e),r())},touchmove=function(e){var n;n=e.changedTouches[0],n.identifier===c&&(Math.abs(n.offsetX-i)>o||Math.abs(n.offsetY-u)>o)&&r()},r=function(){e.removeEventListener("touchend",touchend),e.removeEventListener("touchcancel",r),e.removeEventListener("touchmove",touchmove)},e.addEventListener("touchend",touchend),e.addEventListener("touchcancel",r),e.addEventListener("touchmove",touchmove),setTimeout(r,s)})})}(n),e.module!==void 0&&e.module.exports?e.module.exports=n:e.define!==void 0&&e.define.amd?e.define(function(){return n}):e.sensor=n})(this);